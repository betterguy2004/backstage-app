# AWS ProviderConfig - Legacy cluster-scoped (aws.upbound.io)
---
apiVersion: aws.upbound.io/v1beta1
kind: ProviderConfig
metadata:
  name: default
spec:
  credentials:
    source: Secret
    secretRef:
      namespace: crossplane-system
      name: aws-creds
      key: credentials
---
# AWS ProviderConfig - Modern namespaced (aws.m.upbound.io)
# Required for Crossplane v2 namespaced managed resources
apiVersion: aws.m.upbound.io/v1beta1
kind: ProviderConfig
metadata:
  name: default
  namespace: default  # Namespaced ProviderConfig
spec:
  credentials:
    source: Secret
    secretRef:
      namespace: crossplane-system
      name: aws-creds
      key: credentials
---
# Alternative: Create this secret format
# The secret should contain AWS credentials in INI format:
#
# [default]
# aws_access_key_id = YOUR_ACCESS_KEY
# aws_secret_access_key = YOUR_SECRET_KEY
#
# Create with:
# cat <<EOF | kubectl apply -f -
# apiVersion: v1
# kind: Secret
# metadata:
#   name: aws-creds
#   namespace: crossplane-system
# type: Opaque
# stringData:
#   credentials: |
#     [default]
#     aws_access_key_id = YOUR_ACCESS_KEY
#     aws_secret_access_key = YOUR_SECRET_KEY
# EOF
